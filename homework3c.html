<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>
    alvin lou homework3/part3
  </title>
  <link rel="stylesheet" href="main.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script>
    $(document).ready(function(){
      $("button").click(function(){
        $("textarea").css({
          "color": "white",
          "background-color": "black",
          "font-size": "20px",
          "font-weight": "bold"
        });
      });
    });
  </script>
  <script>
    function process() {
      var account, balance, charges, credits, limit;
      account = document.creditLimit.account.value;
      balance = parseInt(document.creditLimit.balance.value);
      charges = parseInt(document.creditLimit.charges.value);
      credits = parseInt(document.creditLimit.credits.value);
      limit = parseInt(document.creditLimit.limit.value);
      var newBalance = (balance + charges - credits);
      var creditBalance = limit - newBalance;
      var errMsg1 = "<span style='font-weight: bold; color: red;'>please enter an account number</span>";
      var errMsg2 = "<span style='font-weight: bold; color: red;'>please enter a valid set of numbers</span>";

      if (account == "") {
        document.getElementById("errMsg").innerHTML = errMsg1;
      }
      else if (isNaN(balance) || isNaN(charges) || isNaN(credits) || isNaN(limit)) {
        document.getElementById("errMsg").innerHTML = errMsg2;
      }
      else if (creditBalance < 0) {
        document.creditLimit.newBalance.value = ("credit account summary\naccount number: " + account + "\ncredit limit: " + limit + "\nbalance at beginning of month: " + balance + "\ntotal amount charged this month: " + charges + "\ntotal amount of credits this month: " + credits + "\nsummary: the new balance is " + newBalance + "\ncredit limit exceeded by " + Math.abs(creditBalance));
      }
      else if (creditBalance >= 0) {
        document.creditLimit.newBalance.value = ("credit account summary\naccount number: " + account + "\ncredit limit: " + limit + "\nbalance at beginning of month: " + balance + "\ntotal amount charged this month: " + charges + "\ntotal amount of credits this month: " + credits + "\nsummary: the new balance is " + newBalance + "\ncredit available is " + creditBalance);
      }
    }
  </script>
</head>
<body>
  <header>
    <a href="index.html"><img src="cnit132/banner.png" width="445" height="69" alt="alvin lou @ ccsf/home" title="alvin lou @ ccsf/home"></a>
  </header>
  <nav>
    <a href="homework1.html">hw1</a> .
    <a href="homework2.html">hw2</a> .
    hw3 .
    <a href="homework4.html">hw4</a> .
    <a href="homework5.html">hw5</a> .
    <a href="homework6.html">hw6</a> .
    <a href="homework7.html">hw7</a> .
    <a href="homework8.html">hw8</a>
  </nav>
  <section>
    <h1>
      credit account summary
    </h1>
    <form name="creditLimit">
      <table>
        <tr>
          <td>
            account number
          </td>
          <td>
            <input type="text" name="account">
          </td>
        </tr>
        <tr>
          <td>
            beginning of month's balance
          </td>
          <td>
            <input type="text" name="balance">
          </td>
        </tr>
        <tr>
          <td>
            items charged this month
          </td>
          <td>
            <input type="text" name="charges">
          </td>
        </tr>
        <tr>
          <td>
            credits this month
          </td>
          <td>
            <input type="text" name="credits">
          </td>
        </tr>
        <tr>
          <td>
            allowed credit limit
          </td>
          <td>
            <input type="text" name="limit">
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <input type="button" value="enter" onclick="process()">
            <input type="reset" value="clear" onclick="location.reload()">
          </td>
        </tr>
      </table>
      <div id="errMsg"></div>
      <textarea name="newBalance" rows="8" cols="50">credit account summary</textarea>
    </form>
    <button>click to change textarea display</button>
    <p>
      <a href="homework3.html">back to cover</a>
    </p>
  </section>
  <footer>
    <nav>
      <p>
        <a href="#">top</a> .
        <a href="index.html">cnit133</a> .
        <a href="cnit132/index.html">cnit132</a> .
        <a href="mailto:alou1@mail.ccsf.edu">email</a>
      </p>
    </nav>
    <p>
      <script type="text/javascript">
        var dateModified = document.lastModified;
        mydate = dateModified.slice(0,16);
        document.write("Last updated: " + mydate);
      </script>
      <a href="http://validator.w3.org/check?uri=referer"><img src="cnit132/html5.png" height="32" width="32" alt="html5 validate me" title="html5 validate me"></a>
      <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3"><img src="cnit132/css3.png" height="32" width="32" alt="css3 validate me" title="css3 validate me"></a>
    </p>
  </footer>
</body>
</html>